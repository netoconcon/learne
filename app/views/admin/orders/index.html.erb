<div class="container">
  <h2>Pedidos</h2>

  <hr>
  <div class="d-flex">
    <form action="/admin/orders" class="inline-form">
      <select name="status">
          <option value="" disabled selected hidden>Status</option>
          <option value="Paga">Paga</option>
          <option value="Em Aberto">Em Aberto</option>
          <option value="Recusada">Recusada</option>
      </select>
      <select name="payment">
          <option  value="" disabled selected hidden>Meio de Pagamento</option>
          <option value="boleto">Boleto</option>
          <option value="cartao">Cartão</option>
      </select>
      <input type="date" name="start_date" placeholder="" value="<%= @start_date %>">
      <input type="date" name="end_date" placeholder="" value="<%= @end_date %>">
      <input type="submit" class="btn btn-primary btn-sm">
    </form>
  </div>
  <hr>
  <div class="d-flex"> 
    <input type="text" id="filter_by_name" placeholder="id, nome, email, status, cpf, pagamento ..." class="form-control mr-sm-2">
  </div>
  <hr>

  <div class="card-product-header">
    <div class="order-small-item">
      <strong>Id</strong>
    </div>
    <div class="order-large-item text-left">
      <strong>Usuário</strong>
    </div>
    <div class="order-medium-item">
      <strong>Data da Compra</strong>
    </div>
    <div class="order-medium-item">
      <strong>CPF</strong>
    </div>
    <div class="order-small-item">
      <strong>Origem</strong>
    </div>
    <div class="order-medium-item">
      <strong>Status</strong>
    </div>
    <div class="order-medium-item">
      <strong>Pagamento</strong>
    </div>
    <div class="order-medium-item">
      <strong>Total Produtos</strong>
    </div>
    <div class="order-small-item">
      <strong>Frete</strong>
    </div>
    <div class="order-medium-item">
      <strong>UTM Source</strong>
    </div>
    <div class="order-medium-item">
      <strong>UTM Campaign</strong>
    </div>
<!--     <div class="order-small-item">
      <strong>Infos</strong>
    </div> -->
  </div>

  <% if @orders.present? %>
    <% @orders.each do |order| %>
      <div class="card-product" data-customer-name="<%= order.customer.name %>" data-customer-email="<%= order.customer.email %>" data-customer-cpf="<%= order.customer.cpf %>" data-order-id="<%= order.id %>" data-new-status="<%= humanize_order_paid(order.paid) %>" data-order-status="<%= humanize_order_status(order) %>" data-payment-method="<%=humanize_order_payment_method(order.payment_method) %>">
        <div class="order-small-item">
          <%= link_to admin_order_path(order) do %>
            <%= order.id %>
          <% end %>
        </div>
        <div class="order-large-item text-left">
          <h5><strong><%= order.customer.name %></strong></h5>
          <p><%= order.customer.email %></p>
        </div>
        <div class="order-medium-item">
          <%= order.created_at.strftime('%d/%m/%y - %H:%M') %>
        </div>
        <div class="order-medium-item">
          <%= order.customer.cpf %>
        </div>
        <div class="order-small-item">
          Site
        </div>
        <div class="order-medium-item">
          <%= render 'tags', status: humanize_order_status(order) %>
        </div>
        <div class="order-medium-item">
          <%= humanize_order_payment_method(order.payment_method)  %>
        </div>
        <div class="order-medium-item">
          <%= number_to_currency( (order.amount).fdiv(100) ).to_s.gsub(".",",") %>
        </div>
        <div class="order-small-item">
          <%= number_to_currency( (order.kit.shipment_cost) ) %>
        </div>
        <div class="order-medium-item">
          Source
        </div>
        <div class="order-medium-item">
          Campaign
        </div>
        <!-- <div class="order-small-item"> -->
          <%#= link_to admin_order_path(order) do %>
            <!-- <i class="fa fa-info-circle"></i> -->
          <%# end %>
        <!-- </div> -->
      </div>
    <% end %>
  <% end %>
</div>






<!-- <div class="container" data-controller="table">
  <h2>Pedidos</h2>

  <table class="table" id="myTable" data-target="table.table">
    <thead>
    <th scope="col">ID</th>
    <th scope="col">Usuário</th>
    <th scope="col">Data criada</th>
    <!-- <th scope="col">Endereço de entrega</th> -->
    <!-- <th scope="col">Status</th>
    <th scope="col">Valor</th>
    <th scope="col">Criado em:</th>
    <th scope="col">Detalhes</th> -->
    <!-- </thead> -->
    <!-- <tbody> -->
    <%# if @orders.present? %>
      <%# @orders.each do |order|%>
        <%# order.order_status %>
        <!-- <tr class="<%= cycle('list_line_odd', 'list_line_even') %>"> -->
          <td><%#= order.id %></td>
          <td><%#= link_to order.customer.email, admin_order_path(order) %></td>
          <td><%#= order.created_at.strftime("%d-%m-%Y") %></td>
          <td><%#= humanize_order_status(order.status) %></td>
          <!-- <td><%#= humanized_address(order.address) %></td> -->
          <td><%#= number_to_currency(order.kit.amount, unit: "R$ ", separator: ",")  %></td>
          <td><%#= order.created_at.strftime("%H:%M | %d-%m-%Y") %></td>
          <td>
            <%#= link_to admin_order_path(order) do %>
              <!-- <i class="fa fa-info-circle"></i> -->
            <%# end %>
          <!-- </td> -->
        <!-- </tr> -->
      <%# end %>
    <%# end %>
    <!-- </tbody> -->
  <!-- </table> -->
<!-- </div> -->
<!-- a -->
